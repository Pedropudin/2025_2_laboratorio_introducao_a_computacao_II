#include <math.h>
#include <stdio.h>

int main() { // O maior valor aramazenável pelo tipo int vale 2³¹ - 1.
    int n, k, resultadoFinal = 1;
    
    scanf("%d %d", &n, &k);
    
    while (k > 0) { // Loop para "reaproveitar" os 3 últimos algarismos de cada número, otimizando a mudança de expoente.
        if (k%2 != 0) // Verifica se o expoente é par ou ímpar.
            resultadoFinal = (resultadoFinal*n)%1000; /* Garante que será o próprio número de uso de cada iteração, 
			com resultadoFinal = 1 (garante a exponenciação ímpar). */
            
        n = (n*n)%1000; // A base é elevada ao quadrado e os 3 últimos dígitos são usados.
        k /= 2; // Expoente dividido pela metade.
    }
    
    printf("%d", resultadoFinal);
    
    return 0;
}